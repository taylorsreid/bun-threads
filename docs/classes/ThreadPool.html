<!DOCTYPE html><html class="default" lang="en" data-base=".././"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>ThreadPool | bun-threads</title><meta name="description" content="Documentation for bun-threads"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="../index.html" class="title">bun-threads</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb" aria-label="Breadcrumb"><li><a href="" aria-current="page">ThreadPool</a></li></ul><h1>Class ThreadPool&lt;T&gt;</h1></div><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><p>A pool of available threads that can be called to run a task multiple times in parallel.</p>
<p>The following example demonstrates the benefits of using the ThreadPool class over a single <a href="Thread.html" class="tsd-kind-class">Thread</a> class:</p>
</div><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example">Example<a href="#example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-1">import</span><span class="hl-2"> { </span><span class="hl-3">Thread</span><span class="hl-2">, </span><span class="hl-3">ThreadPool</span><span class="hl-2"> } </span><span class="hl-1">from</span><span class="hl-2"> </span><span class="hl-4">&quot;bun-threads&quot;</span><span class="hl-2">;</span><br/><br/><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">thread</span><span class="hl-2"> = </span><span class="hl-5">new</span><span class="hl-2"> </span><span class="hl-7">Thread</span><span class="hl-2">((</span><span class="hl-3">wait</span><span class="hl-2">: </span><span class="hl-8">number</span><span class="hl-2">) </span><span class="hl-5">=&gt;</span><span class="hl-2"> </span><span class="hl-3">Bun</span><span class="hl-2">.</span><span class="hl-7">sleepSync</span><span class="hl-2">(</span><span class="hl-3">wait</span><span class="hl-2">)) </span><span class="hl-0">// simulate some synchronous work</span><br/><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">threadPool</span><span class="hl-2"> = </span><span class="hl-5">new</span><span class="hl-2"> </span><span class="hl-7">ThreadPool</span><span class="hl-2">((</span><span class="hl-3">wait</span><span class="hl-2">: </span><span class="hl-8">number</span><span class="hl-2">) </span><span class="hl-5">=&gt;</span><span class="hl-2"> </span><span class="hl-3">Bun</span><span class="hl-2">.</span><span class="hl-7">sleepSync</span><span class="hl-2">(</span><span class="hl-3">wait</span><span class="hl-2">)) </span><span class="hl-0">// simulate some synchronous work</span><br/><br/><span class="hl-5">let</span><span class="hl-2"> </span><span class="hl-3">start</span><span class="hl-2"> = </span><span class="hl-3">performance</span><span class="hl-2">.</span><span class="hl-7">now</span><span class="hl-2">()</span><br/><span class="hl-1">await</span><span class="hl-2"> </span><span class="hl-8">Promise</span><span class="hl-2">.</span><span class="hl-7">all</span><span class="hl-2">([,</span><br/><span class="hl-2">    </span><span class="hl-3">thread</span><span class="hl-2">.</span><span class="hl-7">run</span><span class="hl-2">([</span><span class="hl-9">1_000</span><span class="hl-2">]),</span><br/><span class="hl-2">    </span><span class="hl-3">thread</span><span class="hl-2">.</span><span class="hl-7">run</span><span class="hl-2">([</span><span class="hl-9">1_000</span><span class="hl-2">]),</span><br/><span class="hl-2">    </span><span class="hl-3">thread</span><span class="hl-2">.</span><span class="hl-7">run</span><span class="hl-2">([</span><span class="hl-9">1_000</span><span class="hl-2">])</span><br/><span class="hl-2">])</span><br/><span class="hl-0">// a single Thread can only execute synchronous tasks one at a time</span><br/><span class="hl-3">console</span><span class="hl-2">.</span><span class="hl-7">log</span><span class="hl-2">(</span><span class="hl-4">&#39;Thread completed in:&#39;</span><span class="hl-2">, </span><span class="hl-3">performance</span><span class="hl-2">.</span><span class="hl-7">now</span><span class="hl-2">() - </span><span class="hl-3">start</span><span class="hl-2">, </span><span class="hl-4">&#39;ms&#39;</span><span class="hl-2">) </span><span class="hl-0">// ~ 3000 ms</span><br/><br/><span class="hl-3">start</span><span class="hl-2"> = </span><span class="hl-3">performance</span><span class="hl-2">.</span><span class="hl-7">now</span><span class="hl-2">()</span><br/><span class="hl-1">await</span><span class="hl-2"> </span><span class="hl-8">Promise</span><span class="hl-2">.</span><span class="hl-7">all</span><span class="hl-2">([,</span><br/><span class="hl-2">    </span><span class="hl-3">threadPool</span><span class="hl-2">.</span><span class="hl-7">run</span><span class="hl-2">([</span><span class="hl-9">1_000</span><span class="hl-2">]),</span><br/><span class="hl-2">    </span><span class="hl-3">threadPool</span><span class="hl-2">.</span><span class="hl-7">run</span><span class="hl-2">([</span><span class="hl-9">1_000</span><span class="hl-2">]),</span><br/><span class="hl-2">    </span><span class="hl-3">threadPool</span><span class="hl-2">.</span><span class="hl-7">run</span><span class="hl-2">([</span><span class="hl-9">1_000</span><span class="hl-2">])</span><br/><span class="hl-2">])</span><br/><span class="hl-0">// ThreadPool runs each task in a separate Thread in parallel</span><br/><span class="hl-3">console</span><span class="hl-2">.</span><span class="hl-7">log</span><span class="hl-2">(</span><span class="hl-4">&#39;ThreadPool completed in:&#39;</span><span class="hl-2">, </span><span class="hl-3">performance</span><span class="hl-2">.</span><span class="hl-7">now</span><span class="hl-2">() - </span><span class="hl-3">start</span><span class="hl-2">, </span><span class="hl-4">&#39;ms&#39;</span><span class="hl-2">) </span><span class="hl-0">// ~ 1000 ms</span><br/><br/><span class="hl-3">thread</span><span class="hl-2">.</span><span class="hl-7">close</span><span class="hl-2">()</span><br/><span class="hl-3">threadPool</span><span class="hl-2">.</span><span class="hl-7">close</span><span class="hl-2">()</span>
</code><button type="button">Copy</button></pre>

</div></div></section><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span id="t"><span class="tsd-kind-type-parameter">T</span> <span class="tsd-signature-keyword">extends</span> <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">...</span><span class="tsd-kind-parameter">args</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span> <span class="tsd-signature-symbol">=&gt;</span> <span class="tsd-signature-type">any</span></span><div class="tsd-comment tsd-typography"><p>The signature of your callback function, including its arguments and return type.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></section><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/taylorsreid/bun-threadpool/blob/291b5d177d57c335de1e0ca07aa8ca5cfad34bab/threadpool.ts#L50">threadpool.ts:50</a></li></ul></aside><section class="tsd-panel-group tsd-index-group"><section class="tsd-panel tsd-index-panel"><details class="tsd-index-content tsd-accordion" open><summary class="tsd-accordion-summary tsd-index-summary"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronSmall"></use></svg><h5 class="tsd-index-heading uppercase">Index</h5></summary><div class="tsd-accordion-details"><section class="tsd-index-section"><h3 class="tsd-index-heading">Constructors</h3><div class="tsd-index-list"><a href="#constructor" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Constructor"><use href="../assets/icons.svg#icon-512"></use></svg><span>constructor</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Properties</h3><div class="tsd-index-list"><a href="#fn" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>fn</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Accessors</h3><div class="tsd-index-list"><a href="#busy" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>busy</span></a>
<a href="#idle" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>idle</span></a>
<a href="#idletimeout" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>idle<wbr/>Timeout</span></a>
<a href="#maxthreads" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>max<wbr/>Threads</span></a>
<a href="#minthreads" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>min<wbr/>Threads</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Methods</h3><div class="tsd-index-list"><a href="#close" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>close</span></a>
<a href="#run" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>run</span></a>
</div></section></div></details></section></section><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Constructors"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Constructors</h2></summary><section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="constructor"><span>constructor</span><a href="#constructor" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="constructorthreadpool"><span class="tsd-signature-keyword">new</span> <span class="tsd-kind-constructor-signature">ThreadPool</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="#constructorthreadpoolt">T</a> <span class="tsd-signature-keyword">extends</span> <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">...</span><span class="tsd-kind-parameter">args</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span> <span class="tsd-signature-symbol">=&gt;</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">fn</span><span class="tsd-signature-symbol">:</span> <a class="tsd-signature-type tsd-kind-type-parameter" href="#constructorthreadpoolt">T</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?:</span> <a href="../interfaces/ThreadPoolOptions.html" class="tsd-signature-type tsd-kind-interface">ThreadPoolOptions</a><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="" class="tsd-signature-type tsd-kind-class">ThreadPool</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="#constructorthreadpoolt">T</a><span class="tsd-signature-symbol">&gt;</span><a href="#constructorthreadpool" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Create a new <code>ThreadPool</code> to group worker threads together and run multiple worker threads in parallel.</p>
</div><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span id="constructorthreadpoolt"><span class="tsd-kind-type-parameter">T</span> <span class="tsd-signature-keyword">extends</span> <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">...</span><span class="tsd-kind-parameter">args</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span> <span class="tsd-signature-symbol">=&gt;</span> <span class="tsd-signature-type">any</span></span></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">fn</span>: <a class="tsd-signature-type tsd-kind-type-parameter" href="#constructorthreadpoolt">T</a></span><div class="tsd-comment tsd-typography"><p>The callback function to be executed in parallel upon calling the asynchronous <a href="#run" class="tsd-kind-method">run</a> method.
Argument types must be serializable using the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm#supported_types">structuredClone()</a> algorithm.
Callback functions can not be closures or rely upon top level imports, as they do not have access to variables or imports outside of their isolated worker thread environment.
They can however use dynamic imports using the <code>const myPackage = await import('some_package')</code> syntax.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">options</span>: <a href="../interfaces/ThreadPoolOptions.html" class="tsd-signature-type tsd-kind-interface">ThreadPoolOptions</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <a href="" class="tsd-signature-type tsd-kind-class">ThreadPool</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="#constructorthreadpoolt">T</a><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/taylorsreid/bun-threadpool/blob/291b5d177d57c335de1e0ca07aa8ca5cfad34bab/threadpool.ts#L212">threadpool.ts:212</a></li></ul></aside></div></li></ul></section></section></details><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Properties"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Properties</h2></summary><section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="fn"><code class="tsd-tag">Readonly</code><span>fn</span><a href="#fn" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">fn</span><span class="tsd-signature-symbol">:</span> <a class="tsd-signature-type tsd-kind-type-parameter" href="#constructorthreadpoolt">T</a></div><div class="tsd-comment tsd-typography"><p>The callback function to be executed in parallel upon calling the asychronous <a href="#run" class="tsd-kind-method">run</a> method.</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/taylorsreid/bun-threadpool/blob/291b5d177d57c335de1e0ca07aa8ca5cfad34bab/threadpool.ts#L54">threadpool.ts:54</a></li></ul></aside></section></section></details><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Accessors"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Accessors</h2></summary><section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="busy"><span>busy</span><a href="#busy" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li><div class="tsd-signature" id="busybusy"><span class="tsd-signature-keyword">get</span> <span class="tsd-kind-get-signature">busy</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>The number of <a href="Thread.html" class="tsd-kind-class">Threads</a> in the pool that are currently running tasks. Once this number reaches <code>0</code>, it is safe to close the <code>ThreadPool</code>.
It is possible the check this while a task is still running. Their statuses are stored on the main thread while the tasks are performed on the underlying workers.
To wait until the <code>ThreadPool</code> is not busy, await the <a href="#idle" class="tsd-kind-accessor">idle</a> property.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">number</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-1">Example<a href="#example-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-1">import</span><span class="hl-2"> { </span><span class="hl-3">ThreadPool</span><span class="hl-2"> } </span><span class="hl-1">from</span><span class="hl-2"> </span><span class="hl-4">&quot;bun-threads&quot;</span><span class="hl-2">;</span><br/><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">tp</span><span class="hl-2"> = </span><span class="hl-5">new</span><span class="hl-2"> </span><span class="hl-7">ThreadPool</span><span class="hl-2">(() </span><span class="hl-5">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-4">&#39;hello world&#39;</span><br/><span class="hl-2">})</span><br/><br/><span class="hl-3">tp</span><span class="hl-2">.</span><span class="hl-7">run</span><span class="hl-2">([])</span><br/><span class="hl-3">console</span><span class="hl-2">.</span><span class="hl-7">log</span><span class="hl-2">(</span><span class="hl-4">`</span><span class="hl-5">${</span><span class="hl-3">tp</span><span class="hl-10">.</span><span class="hl-3">busy</span><span class="hl-5">}</span><span class="hl-4"> thread in the ThreadPool is busy.`</span><span class="hl-2">)</span><br/><span class="hl-3">tp</span><span class="hl-2">.</span><span class="hl-7">run</span><span class="hl-2">([])</span><br/><span class="hl-3">console</span><span class="hl-2">.</span><span class="hl-7">log</span><span class="hl-2">(</span><span class="hl-4">`</span><span class="hl-5">${</span><span class="hl-3">tp</span><span class="hl-10">.</span><span class="hl-3">busy</span><span class="hl-5">}</span><span class="hl-4"> threads in the ThreadPool are busy.`</span><span class="hl-2">)</span><br/><span class="hl-1">await</span><span class="hl-2"> </span><span class="hl-3">tp</span><span class="hl-2">.</span><span class="hl-3">idle</span><br/><span class="hl-3">console</span><span class="hl-2">.</span><span class="hl-7">log</span><span class="hl-2">(</span><span class="hl-4">`</span><span class="hl-5">${</span><span class="hl-3">tp</span><span class="hl-10">.</span><span class="hl-3">busy</span><span class="hl-5">}</span><span class="hl-4"> threads in the ThreadPool are busy.`</span><span class="hl-2">)</span><br/><span class="hl-3">tp</span><span class="hl-2">.</span><span class="hl-7">close</span><span class="hl-2">()</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/taylorsreid/bun-threadpool/blob/291b5d177d57c335de1e0ca07aa8ca5cfad34bab/threadpool.ts#L189">threadpool.ts:189</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="idle"><span>idle</span><a href="#idle" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li><div class="tsd-signature" id="idleidle"><span class="tsd-signature-keyword">get</span> <span class="tsd-kind-get-signature">idle</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>A promise that resolves once all of the <a href="Thread.html" class="tsd-kind-class">Threads</a> in the <code>ThreadPool</code> have finished their tasks and reached an <code>idle</code> state. Resolves immediately if no <code>Thread</code>s are busy.
Works similar to the <a href="Thread.html#idle" class="tsd-kind-accessor">Thread.idle</a> property, except that the promise resolves to void.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-see"><h4 class="tsd-anchor-link" id="see">See<a href="#see" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p><a href="../media/Thread.html#idle">Thread.idle</a></p>
</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/taylorsreid/bun-threadpool/blob/291b5d177d57c335de1e0ca07aa8ca5cfad34bab/threadpool.ts#L198">threadpool.ts:198</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="idletimeout"><span>idle<wbr/>Timeout</span><a href="#idletimeout" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li><div class="tsd-signature" id="idletimeoutidletimeout"><span class="tsd-signature-keyword">get</span> <span class="tsd-kind-get-signature">idleTimeout</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>How long (in milliseconds) to keep the dynamic <a href="Thread.html" class="tsd-kind-class">Threads</a> in the <code>ThreadPool</code> active after completing a task before terminating them.
<a href="#minthreads" class="tsd-kind-accessor">minThreads</a> number of <code>Thread</code>s have their <a href="Thread.html#idletimeout" class="tsd-kind-accessor">Thread.idleTimeout</a> set to <code>Infinity</code>. All other threads will have their <code>Thread.idleTimeout</code> set to this value.
This allows the <code>ThreadPool</code> to grow and shrink based upon demand, using more or less resources as required.
Default is <code>0</code> (close immediately).
Changing this value will restart the <code>ThreadPool</code>'s internal timer.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">number</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-default"><h4 class="tsd-anchor-link" id="default">Default<a href="#default" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-9">0</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws">Throws<a href="#throws" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p><code>RangeError</code> if value &lt; 0</p>
</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/taylorsreid/bun-threadpool/blob/291b5d177d57c335de1e0ca07aa8ca5cfad34bab/threadpool.ts#L150">threadpool.ts:150</a></li></ul></aside></div></li><li><div class="tsd-signature" id="idletimeoutidletimeout-1"><span class="tsd-signature-keyword">set</span> <span class="tsd-kind-set-signature">idleTimeout</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">value</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>How long (in milliseconds) to keep the dynamic <a href="Thread.html" class="tsd-kind-class">Threads</a> in the <code>ThreadPool</code> active after completing a task before terminating them.
<a href="#minthreads" class="tsd-kind-accessor">minThreads</a> number of <code>Thread</code>s have their <a href="Thread.html#idletimeout" class="tsd-kind-accessor">Thread.idleTimeout</a> set to <code>Infinity</code>. All other threads will have their <code>Thread.idleTimeout</code> set to this value.
This allows the <code>ThreadPool</code> to grow and shrink based upon demand, using more or less resources as required.
Default is <code>0</code> (close immediately).
Changing this value will restart the <code>ThreadPool</code>'s internal timer.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">value</span>: <span class="tsd-signature-type">number</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-default"><h4 class="tsd-anchor-link" id="default-1">Default<a href="#default-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-9">0</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws-1">Throws<a href="#throws-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p><code>RangeError</code> if value &lt; 0</p>
</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/taylorsreid/bun-threadpool/blob/291b5d177d57c335de1e0ca07aa8ca5cfad34bab/threadpool.ts#L162">threadpool.ts:162</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="maxthreads"><span>max<wbr/>Threads</span><a href="#maxthreads" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li><div class="tsd-signature" id="maxthreadsmaxthreads"><span class="tsd-signature-keyword">get</span> <span class="tsd-kind-get-signature">maxThreads</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>The maximum number of <a href="Thread.html" class="tsd-kind-class">Threads</a> that are allowed to be running at once. Once this limit is reached, any further calls will be enqueued in a promise until a <code>Thread</code> becomes available.
By default, the maximum is set to <a href="https://nodejs.org/api/os.html#osavailableparallelism">os.availableParallelism()</a> - 1, which generally should not be exceeded, as it should not offer any performance gains.
Setting this value to less than <a href="#minthreads" class="tsd-kind-accessor">minThreads</a> will cause <code>minThreads</code> to be lowered to the same value.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">number</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-default"><h4 class="tsd-anchor-link" id="default-2">Default<a href="#default-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-3">os</span><span class="hl-2">.</span><span class="hl-7">availableParallelism</span><span class="hl-2">() - </span><span class="hl-9">1</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws-2">Throws<a href="#throws-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p><code>RangeError</code> if value &lt; 1 or if value is not an integer</p>
</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/taylorsreid/bun-threadpool/blob/291b5d177d57c335de1e0ca07aa8ca5cfad34bab/threadpool.ts#L110">threadpool.ts:110</a></li></ul></aside></div></li><li><div class="tsd-signature" id="maxthreadsmaxthreads-1"><span class="tsd-signature-keyword">set</span> <span class="tsd-kind-set-signature">maxThreads</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">value</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>The maximum number of <a href="Thread.html" class="tsd-kind-class">Threads</a> that are allowed to be running at once. Once this limit is reached, any further calls will be enqueued in a promise until a <code>Thread</code> becomes available.
By default, the maximum is set to <a href="https://nodejs.org/api/os.html#osavailableparallelism">os.availableParallelism()</a> - 1, which generally should not be exceeded, as it should not offer any performance gains.
Setting this value to less than <a href="#minthreads" class="tsd-kind-accessor">minThreads</a> will cause <code>minThreads</code> to be lowered to the same value.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">value</span>: <span class="tsd-signature-type">number</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-default"><h4 class="tsd-anchor-link" id="default-3">Default<a href="#default-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-3">os</span><span class="hl-2">.</span><span class="hl-7">availableParallelism</span><span class="hl-2">() - </span><span class="hl-9">1</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws-3">Throws<a href="#throws-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p><code>RangeError</code> if value &lt; 1 or if value is not an integer</p>
</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/taylorsreid/bun-threadpool/blob/291b5d177d57c335de1e0ca07aa8ca5cfad34bab/threadpool.ts#L120">threadpool.ts:120</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="minthreads"><span>min<wbr/>Threads</span><a href="#minthreads" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li><div class="tsd-signature" id="minthreadsminthreads"><span class="tsd-signature-keyword">get</span> <span class="tsd-kind-get-signature">minThreads</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>The number of <a href="Thread.html" class="tsd-kind-class">Threads</a> to keep active with a <a href="Thread.html#idletimeout" class="tsd-kind-accessor">Thread.idleTimeout</a> of <code>Infinity</code> (never close automatically).
By default, one <code>Thread</code> will be kept warm for fast startup times.
Additional <code>Thread</code>s in the range of <code>minThreads</code> + 1 and <a href="#maxthreads" class="tsd-kind-accessor">maxThreads</a> (inclusive) will have their <code>Thread.idleTimeout</code> set to <a href="#idletimeout" class="tsd-kind-accessor">idleTimeout</a>.
Setting this value to greater than <code>maxThreads</code> will cause <code>maxThreads</code> to be raised to the same value.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">number</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-default"><h4 class="tsd-anchor-link" id="default-4">Default<a href="#default-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-9">1</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws-4">Throws<a href="#throws-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p><code>RangeError</code> if value &lt; 0 or if value is not an integer</p>
</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/taylorsreid/bun-threadpool/blob/291b5d177d57c335de1e0ca07aa8ca5cfad34bab/threadpool.ts#L65">threadpool.ts:65</a></li></ul></aside></div></li><li><div class="tsd-signature" id="minthreadsminthreads-1"><span class="tsd-signature-keyword">set</span> <span class="tsd-kind-set-signature">minThreads</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">value</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>The number of <a href="Thread.html" class="tsd-kind-class">Threads</a> to keep active with a <a href="Thread.html#idletimeout" class="tsd-kind-accessor">Thread.idleTimeout</a> of <code>Infinity</code> (never close automatically).
By default, one <code>Thread</code> will be kept warm for fast startup times.
Additional <code>Thread</code>s in the range of <code>minThreads</code> + 1 and <a href="#maxthreads" class="tsd-kind-accessor">maxThreads</a> (inclusive) will have their <code>Thread.idleTimeout</code> set to <a href="#idletimeout" class="tsd-kind-accessor">idleTimeout</a>.
Setting this value to greater than <code>maxThreads</code> will cause <code>maxThreads</code> to be raised to the same value.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">value</span>: <span class="tsd-signature-type">number</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-default"><h4 class="tsd-anchor-link" id="default-5">Default<a href="#default-5" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-9">1</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws-5">Throws<a href="#throws-5" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p><code>RangeError</code> if value &lt; 0 or if value is not an integer</p>
</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/taylorsreid/bun-threadpool/blob/291b5d177d57c335de1e0ca07aa8ca5cfad34bab/threadpool.ts#L76">threadpool.ts:76</a></li></ul></aside></div></li></ul></section></section></details><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Methods"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Methods</h2></summary><section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="close"><span>close</span><a href="#close" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="close-1"><span class="tsd-kind-call-signature">close</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">force</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span><a href="#close-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Close all of the <a href="Thread.html" class="tsd-kind-class">Threads</a> in the pool. It is safe to call this method more than once, as subsequent calls result in a no-op.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">force</span>: <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> = false</span></span><div class="tsd-comment tsd-typography"><p>This method will wait for the <code>Thread</code> to finish its queued tasks unless <code>force</code> is set to <code>true</code>. Default is <code>false</code>.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span></h4><p>a Promise&lt;number&gt; that resolves to the amount of open threads that were actually closed (how many <code>Thread.close()</code> calls returned <code>true</code>).</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-2">Example<a href="#example-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-1">import</span><span class="hl-2"> { </span><span class="hl-3">ThreadPool</span><span class="hl-2"> } </span><span class="hl-1">from</span><span class="hl-2"> </span><span class="hl-4">&quot;bun-threads&quot;</span><span class="hl-2">;</span><br/><br/><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">threadPool</span><span class="hl-2"> = </span><span class="hl-5">new</span><span class="hl-2"> </span><span class="hl-7">ThreadPool</span><span class="hl-2">(() </span><span class="hl-5">=&gt;</span><span class="hl-2"> { </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-9">42</span><span class="hl-2"> })</span><br/><span class="hl-3">console</span><span class="hl-2">.</span><span class="hl-7">log</span><span class="hl-2">(</span><span class="hl-4">&#39;The answer is:&#39;</span><span class="hl-2">, </span><span class="hl-1">await</span><span class="hl-2"> </span><span class="hl-3">threadPool</span><span class="hl-2">.</span><span class="hl-7">run</span><span class="hl-2">([]))</span><br/><span class="hl-3">threadPool</span><span class="hl-2">.</span><span class="hl-7">close</span><span class="hl-2">() </span><span class="hl-0">// not calling close may cause the program to hang</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/taylorsreid/bun-threadpool/blob/291b5d177d57c335de1e0ca07aa8ca5cfad34bab/threadpool.ts#L269">threadpool.ts:269</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="run"><span>run</span><a href="#run" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="run-1"><span class="tsd-kind-call-signature">run</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">args</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Parameters</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="#constructorthreadpoolt">T</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ReturnType</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="#constructorthreadpoolt">T</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><a href="#run-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Execute the callback that was specified in the <a href="#constructor" class="tsd-kind-constructor">constructor</a> in a separate worker thread.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">args</span>: <span class="tsd-signature-type">Parameters</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="#constructorthreadpoolt">T</a><span class="tsd-signature-symbol">&gt;</span></span><div class="tsd-comment tsd-typography"><p>An array of arguments to pass to the callback function.
If your callback function does not have arguments, you still must pass an empty array.
This is required for TypeScript to be able infer arguments.
Argument types must be serializable using the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm#supported_types">structuredClone()</a> algorithm.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ReturnType</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="#constructorthreadpoolt">T</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h4><p>A Promise&lt;ReturnType&lt;T&gt;&gt; that resolves to the return type of your callback function.</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/taylorsreid/bun-threadpool/blob/291b5d177d57c335de1e0ca07aa8ca5cfad34bab/threadpool.ts#L229">threadpool.ts:229</a></li></ul></aside></div></li></ul></section></section></details></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Constructors"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Constructors</summary><div><a href="#constructor"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Constructor"><use href="../assets/icons.svg#icon-512"></use></svg><span>constructor</span></a></div></details><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Properties"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Properties</summary><div><a href="#fn"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>fn</span></a></div></details><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Accessors"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Accessors</summary><div><a href="#busy"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>busy</span></a><a href="#idle"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>idle</span></a><a href="#idletimeout"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>idle<wbr/>Timeout</span></a><a href="#maxthreads"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>max<wbr/>Threads</span></a><a href="#minthreads"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>min<wbr/>Threads</span></a></div></details><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Methods"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Methods</summary><div><a href="#close"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>close</span></a><a href="#run"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>run</span></a></div></details></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">bun-threads</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
